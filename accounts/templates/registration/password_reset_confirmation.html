{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Set New Password - AI Curriculum</title>
    <link rel="stylesheet" href="{% static 'accounts/css/styles.css' %}">
</head>
<body>
    <div class="card">
        <img src="{% static 'accounts/images/dwa_logo.png' %}" alt="DWA Logo" class="logo">
        <h2>Set New Password</h2>
        <p>Please enter your new password below.</p>

        {% if messages %}
            {% for message in messages %}
                <p style="color: {% if message.tags == 'error' %}red{% else %}green{% endif %};">{{ message }}</p>
            {% endfor %}
        {% endif %}

        <form method="post">
            {% csrf_token %}
            {% for field in form %}
                <div>
                    {% if field.name == 'new_password1' %}
                        <input type="password" name="{{ field.name }}" placeholder="New Password (min 8 chars, uppercase, lowercase, number, special char)" required>
                    {% elif field.name == 'new_password2' %}
                        <input type="password" name="{{ field.name }}" placeholder="Confirm New Password" required>
                    {% else %}
                        {{ field }}
                    {% endif %}
                    {% if field.errors %}
                        {% for error in field.errors %}
                            <p style="color: red; font-size: 0.9rem;">{{ error }}</p>
                        {% endfor %}
                    {% endif %}
                </div>
            {% endfor %}
            <button type="submit">Set New Password</button>
        </form>

        <div class="links">
            <a href="{% url 'login' %}">Back to Login</a>
        </div>
    </div>
</body>
</html>
